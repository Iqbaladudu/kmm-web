{% load split_url %}

<aside id="app-sidebar"
  x-cloak
  x-show="true"
  x-bind:class="{
    'translate-x-0': sidebarOpen,
    '-translate-x-full': !sidebarOpen
  }"
  class="fixed md:static inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 flex flex-col py-6 px-4 shadow-lg md:shadow-none transform -translate-x-full md:translate-x-0 sidebar-transition md:h-screen md:min-h-screen mt-14 md:mt-0"
  aria-label="Sidebar"
  :aria-hidden="(!sidebarOpen && window.innerWidth < 768).toString()"
  :aria-modal="(sidebarOpen && window.innerWidth < 768).toString()"
  role="navigation"
>
  <div id="app-sidebar-scroll" class="flex-1 flex flex-col gap-6 overflow-y-auto">
    <nav class="flex flex-col gap-1 text-sm">
      {% if user.is_staff %}
        <a href="{% url 'profile' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 transition">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="4"></circle><path d="M6 20c0-2.2 3.6-4 6-4s6 1.8 6 4"></path></svg>
          <span class="font-medium">Data</span>
        </a>
        <a href="{% url 'staff_student_list' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 transition">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="font-medium">Daftar Mahasiswa</span>
        </a>
        <a href="{% url 'staff_student_create' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 transition">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 4.5v15m7.5-7.5h-15"></path></svg>
          <span class="font-medium">Tambah data</span>
        </a>
      {% else %}
        <a href="{% url 'profile' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 transition">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="4"></circle><path d="M6 20c0-2.2 3.6-4 6-4s6 1.8 6 4"></path></svg>
          <span class="font-medium">Data diri saya</span>
        </a>
      {% endif %}
    </nav>
    <div class="mt-auto pt-4 border-t border-gray-100 text-xs text-gray-400">&copy; {{ now|date:'Y' }} KMM Mesir</div>
  </div>
</aside>